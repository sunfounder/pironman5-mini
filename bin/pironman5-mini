#!/bin/bash

start() {
    /opt/pironman5-mini/venv/bin/pironman5-mini-service start
}

start-background() {
    /opt/pironman5-mini/venv/bin/pironman5-mini-service start 2>1 1>/dev/null &
}

stop() {
    /opt/pironman5-mini/venv/bin/pironman5-mini-service stop
}

restart() {
    stop
    start-background
}

if [ "$1" == "start" ]; then
    if [ "$2" == "--background" ]; then
        start-background
    else
        start
    fi
elif [ "$1" == "stop" ]; then
    stop
elif [ "$1" == "restart" ]; then
    restart
else
    /opt/pironman5-mini/venv/bin/pironman5-mini-service "$@"
fi
